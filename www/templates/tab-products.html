<ion-view title="Productos">
	<ion-nav-bar animation="nav-title-slide-ios7" class="bar-stable custom-bar">
		<ion-nav-back-button></ion-nav-back-button>
	</ion-nav-bar>

  <ion-nav-buttons side="right">
    <button class="button" ng-controller="OrdersCtrl" ng-click="removeOrder()">
      <i class="icon ion-trash-b custom-trash-icon"></i>
    </button>
  </ion-nav-buttons>

	<ion-content>

    <div class="banner">
      <h4 ng-if="subcategory == undefined">{{category}}</h4>
      <h4 ng-if="subcategory != undefined">{{category}} > {{subcategory}}</h4>
    </div>

		<ion-list>
      <div ng-repeat="product in products">
        <ion-item class="item-stable" ng-click="toggleGroup(product)" ng-class="{active: isGroupShown(product)}">
            <i class="icon" ng-class="isGroupShown(product) ? 'ion-minus' : 'ion-plus'"></i>
          {{product.name}}
        </ion-item>
        <ion-item class="item-accordion item-button-right" ng-show="isGroupShown(product)">
          <p> Cantidad: {{product.order}} </p>
          <p> Precio: {{product.price}} </p>
          <p> Total: {{product.total}} </p>
          <input type="text" class="note" ng-model="product.note" value="{{product.note}}" placeholder="AÃ±adir comentario..."></input>
          <div class="buttons">
            <button class="button button-stable" ng-click="addOrder(product)">
              <i class="icon ion-plus"></i>
            </button>
            <button class="button button-stable" ng-click="removeOrder(product)">
              <i class="icon ion-minus"></i>
            </button>
          </div>
        </ion-item>

      </div>
    </ion-list>
	</ion-content>
</ion-view>